(function(){var t,e={}.hasOwnProperty,o=function(t,o){function n(){this.constructor=t}for(var r in o)e.call(o,r)&&(t[r]=o[r]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};RepoList.Models.Agency=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e}(Backbone.Model),RepoList.Collections.Agencies=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.model=RepoList.Models.Agency,e.prototype.url="{{ site.sm_api }}",e.prototype.parse=function(t){return t.accounts},e.prototype.initialize=function(){return this.on("add",this.getRepos),this.on("add",this.initView)},e.prototype.getRepos=function(t){var e;return e=new RepoList.Collections.Repos,e.agency=t.get("account"),t.set("repos",e),e.fetch({update:!0})},e.prototype.initView=function(t){return new RepoList.Views.Agency({model:t}).render()},e}(Backbone.Collection),RepoList.Models.Repo=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e}(Backbone.Model),RepoList.Collections.Repos=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.model=RepoList.Models.Repo,e.prototype.agency={},e.prototype.urlTemplate="{{ site.gh_api }}",e.prototype.url=function(){return _.template(this.urlTemplate,{account:this.agency})},e.prototype.parse=function(t){return t.data},e.prototype.initialize=function(){return this.on("add",this.initView)},e.prototype.initView=function(t){return new RepoList.Views.Repo({model:t,el:"#"+this.agency+" .repos"}).render()},e}(Backbone.Collection),RepoList.Views.Agency=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.el="#agencies",e.prototype.render=function(){return this.$el.append(RepoList.Templates.agency({agency:this.model.toJSON()}))},e}(Backbone.View),RepoList.Views.Repo=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.render=function(){return this.$el.append(RepoList.Templates.repo(this.model.toJSON()))},e}(Backbone.View),t=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.routes={"":"index"},e.prototype.index=function(){return RepoList.agencies=new RepoList.Collections.Agencies,RepoList.agencies.fetch({update:!0})},e}(Backbone.Router),RepoList.router=new t,Backbone.history.start()}).call(this);